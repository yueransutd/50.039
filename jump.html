<!DOCTYPE html>
   <html>
   <head>
   <title>JUMP JUMP JUMP</title>
   </head>
   <body bgcolor="Black">
    <canvas id="canvas" width="1000" height="800"></canvas>
   <script src="http://code.jquery.com/jquery-2.1.0.js"></script>
   <audio autoplay="autoplay" controls="controls" height="100" width="100">
  <source src="A Great Big World - Say Something.mp3" type="audio/mp3" />
  <source src="A Great Big World - Say Something.ogg" type="audio/ogg" />
  <embed height="100" width="100" src="A Great Big World - Say Something.mp3" />
</audio>
   <script>
   var a=0
   var b=-1
   var x=500
   var y=585
   var radius=15
   var speedy=3
   var canvas=document.getElementById("canvas")
   var ctx=canvas.getContext("2d")
   var circle=function(x,y,radius){
    ctx.beginPath();
    ctx.arc(x,y,radius,0,Math.PI*2,true);
    ctx.fill();
   }
  //设定小球
var Ball=function(){
  this.x=500;
  this.y=585;
  this.radius=15;
  this.speedy=3;
}
//设定分数
 var score=0
 var drawScore=function(){
  ctx.font = "20px cursive";
  ctx.fillStyle = "White";
  ctx.textAlign = "left";
  ctx.textBaseline = "top";
  ctx.fillText("Score: " + score, 500, 100);
};
//die
var gameOver = function () { clearInterval(intervalid);
ctx.font = "60px cursive";
ctx.fillStyle = "White";
ctx.textAlign = "center";
ctx.textBaseline = "middle";
ctx.fillText("Game Over", 500, 400);
};

//让它跳
Ball.prototype.jump=function(){
  if (a == 1) {
    a = 0;
    direction = 0;
    return;
  }
  this.y += b * this.speedy;
  if (this.y < 400) {
    b = - b;
    this.y += b * this.speedy;
  }
  if (this.y > 585) {
    b = - b;
    this.y += b * this.speedy;
    a = 1;
  }}   
//划线
var drawline=function(){
ctx.lineWidth=6
ctx.moveTo(0,600)
ctx.lineTo(1000,600)
ctx.stroke()
ctx.strokeStyle="White"
}

//画月亮
var drawMoon=function(x,y,radius){ctx.beginPath();ctx.arc(x1,y1,50,0,Math.PI*2,true);
    ctx.fill();}
var x1=100  
var y1=100
var drawMoon2=function(x,y,radius){ctx.beginPath();ctx.arc(x2,y2,40,0,Math.PI*2,true);
    ctx.fill();}
var x2=120 
var y2=100
//加星星
var drawStar=function(x,y){ctx.beginPath();ctx.arc(x3,y3,5,0,Math.PI*2);
    ctx.fill();}
var x3=200 
var y3=400
var drawStar1=function(x,y){ctx.beginPath();ctx.arc(x7,y7,3,0,Math.PI*2);
    ctx.fill();}
var x7=220 
var y7=240
var drawStar2=function(x,y){ctx.beginPath();ctx.arc(x4,y4,5,0,Math.PI*2);
    ctx.fill();}
var x4=140 
var y4=150
var drawStar3=function(x,y){ctx.beginPath();ctx.arc(x5,y5,3,0,Math.PI*2);
    ctx.fill();}
var x5=300 
var y5=320
var drawStar4=function(x,y){ctx.beginPath();ctx.arc(x6,y6,5,0,Math.PI*2);
    ctx.fill();}
var x6=120 
var y6=200
var drawStar5=function(x,y){ctx.beginPath();ctx.arc(x8,y8,3,0,Math.PI*2);
    ctx.fill();}
var x8=250 
var y8=140
var drawStar6=function(x,y){ctx.beginPath();ctx.arc(x9,y9,3,0,Math.PI*2);
    ctx.fill();}
var x9=200 
var y9=90
var drawStar7=function(x,y){ctx.beginPath();ctx.arc(x10,y10,5,0,Math.PI*2);
    ctx.fill();}
var x10=400 
var y10=180
var drawStar8=function(x,y){ctx.beginPath();ctx.arc(x11,y11,3,0,Math.PI*2);
    ctx.fill();}
var x11=380 
var y11=500
var drawStar9=function(x,y){ctx.beginPath();ctx.arc(x12,y12,3,0,Math.PI*2);
    ctx.fill();}
var x12=400 
var y12=380
var drawStar10=function(x,y){ctx.beginPath();ctx.arc(x13,y13,3,0,Math.PI*2);
    ctx.fill();}
var x13=650 
var y13=480
var drawStar11=function(x,y){ctx.beginPath();ctx.arc(x14,y14,3,0,Math.PI*2);
    ctx.fill();}
var x14=750 
var y14=300
var drawStar12=function(x,y){ctx.beginPath();ctx.arc(x15,y15,3,0,Math.PI*2);
    ctx.fill();}
var x15=800 
var y15=200
var drawStar13=function(x,y){ctx.beginPath();ctx.arc(x16,y16,3,0,Math.PI*2);
    ctx.fill();}
var x16=60 
var y16=300

//画小球
Ball.prototype.draw=function()
{circle(this.x,this.y,this.radius,true)}
var direction=0
var ball=new Ball()
   $("body").keydown(
function(event){
direction=event.keyCode
})
//画陷阱
 var position1=1000
 var position2=1400
 var position3=1300
 var position4=1600
 var position5=1800
 var intervalid=setInterval(function(){
  ctx.clearRect(0,0,1000,800);
  ctx.fillStyle="Black"
  ctx.fillRect(0,0,1000,800)
  ctx.fillStyle="lightgrey"
  ctx.fillRect(position1,570,30,30)
  position1--;
  if (position1<0) {
    position1=1000}
  if((Math.abs(position1-ball.x)<15 || Math.abs(position1+30-ball.x)<15 )
&& ball.y===585)
{gameOver();}
  if (position1+30===500){
    score++;
  }

  ctx.fillStyle="lightgrey"
  ctx.fillRect(position2,570,30,30)
  position2--;
  if (position2<0) {
    position2=1400}
 if((Math.abs(position2-ball.x)<15 || Math.abs(position2+30-ball.x)<15 )
&& ball.y===585)
{gameOver();}
  if (position2-70===500){
    score++;
};

  ctx.fillStyle="lightgrey"
  ctx.fillRect(position3,570,30,30)
  position3--;
  if (position3<0) {
    position3=1300}
  if((Math.abs(position3-ball.x)<15 || Math.abs(position3+30-ball.x)<15 )
&& ball.y===585)
{gameOver();}
 if(position3+30===500)
    {score++;
      };

 ctx.fillStyle="lightgrey"
 ctx.fillRect(position4,570,30,30)
  position4--;
 if (position4<0) {
    position4=1600}
 if((Math.abs(position4-ball.x)<15 || Math.abs(position4+30-ball.x)<15 )
&& ball.y===585)
{gameOver();}
  if (position4+30===500){
    score++;
};

 ctx.fillStyle="lightgrey"
  ctx.fillRect(position5,570,30,30)
  position5--;
  if (position5<0) {
    position5=1800}
 if((Math.abs(position5-ball.x)<15 || Math.abs(position5+30-ball.x)<15 )
&& ball.y===585)
{gameOver();}
  if (position5+30===500){
    score++;
};
  ctx.fillStyle="lightgrey"
  drawMoon();
  ctx.fillStyle="Black"
  drawMoon2(); 
  ctx.fillStyle="White"
  drawStar();
  drawStar1();
  drawStar2();
  drawStar3();
  drawStar4();
  drawStar5();
  drawStar6();
  drawStar7();
  drawStar8();
  drawStar9();
  drawStar10();
  drawStar11();
  drawStar12();
  drawStar13();
  ctx.fillStyle="White"
   ball.draw();
   drawline();
   drawScore();
   ctx.strokeRect(0,0,1000,800);
   if (direction == 38) {
    ball.jump ();
   }},3
 )
</script>
</body>
</html>
